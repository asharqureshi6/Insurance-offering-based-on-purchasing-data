# Insurance-offering-based-on-purchasing-data
This repository contains the code used to complete a challenge in which my target was to create insurance offerings based on consumer purchasing data. It is composed of 3 steps: web scraping (to gain missing information from supermarket website), data cleansing and buying power analysis.

## How to meassure buying power
Suppose that K very common categories have been selected for defining the buying power measure. For each customer 𝑖 = 1, . . . , 𝑛, denote the number of products purchased in category 𝑗 and the average price for the product they bought in that category by $𝑛_{𝑖𝑗}$ and $𝑝_{𝑖𝑗} respectively. Moreover, let $u_i$ denote the number of unique products purchased by customer 𝑖 in category 𝑗. Then, a possible estimate of the relative buying power for customer 𝑖 might be

$$s_i=\sum_k\frac{u_{ik}}{\sum_ju_{ij}}q(p_{ik})$$

where  $q(p_{ik})$ represents the quantile associated with average price p_ik with respect to the average prices in the category for the other customers in the sample. The explanation of this score is quite intuitive. First of all, q(p_ik) describes how the average price of products customer i purchased in category j ranks against the same quantity for the other customers in the sample. The quantity $q(p_{ik}) is calculated for all K categories considered and the buying power score for customer i is calculated as a weighted sum of those, with weights indicating the importance given to each term of the summation for computing the score. In particular, the weight of term k of the summation is defined as the proportion of unique products customer i purchased in category k compared to the total number of unique products he purchased in all K categories. By using it as importance weight, we act under the assumption that the more unique products a customer purchases in a category, the more informative their buying behaviour in that category is for determining their relative buying power.
